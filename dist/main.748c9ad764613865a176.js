(()=>{const e=document.querySelector(".feedback__information"),a=document.querySelector(".feedback__form"),t=document.querySelector(".feedback__content"),r=document.querySelector(".feedback__select"),n=e=>{switch(e.id){case"first__name":case"last__name":e.style.backgroundColor=/^([A-Za-z]+)$/gi.exec(e.value)||0==e.value.length?"#ffffff":"#d73333";break;case"email":e.style.backgroundColor=/([A-Za-z0-9._-]+@[A-Za-z]+\.[A-Za-z])/gi.exec(e.value)||0==e.value.length?"#ffffff":"#d73333";break;case"phone":e.style.backgroundColor=/^\(?(\d{3})\)?[- ]?(\d{3})[- ]?(\d{4})$/gi.exec(e.value)||0==e.value.length?"#ffffff":"#d73333";break;case"address":case"service":e.style.backgroundColor=e.value.length>=10&&e.value.length<=140||0==e.value.length?"#ffffff":"#d73333";break;case"message":e.style.backgroundColor=e.value.length>=10||0==e.value.length?"#ffffff":"#d73333"}},l=(e,a,t,r="")=>{r&&r.remove(),e.insertAdjacentHTML(a,t)};window.addEventListener("click",(e=>{r.contains(e.target)||(r.children[0].style.borderRadius="16px",r.children[2].style.display="none")})),a.addEventListener("focusout",(e=>{e.preventDefault(),n(e.target)})),a.addEventListener("focusin",(e=>{if(e.preventDefault(),"select__service"===e.target.id){const a=r.children[2];e.target.style.borderRadius="16px 16px 0px 0px",a.style.display="block"}})),r.addEventListener("click",(e=>{"LI"===e.target.tagName&&(r.children[0].value=e.target.innerHTML,r.children[0].style.borderRadius="16px",r.children[2].style.display="none")})),a.addEventListener("click",(a=>{if(a.preventDefault(),"BUTTON"===a.target.tagName&&(n(a.target),r=a.target,Array(...r.form).filter((e=>"INPUT"===e.tagName||"TEXTAREA"===e.tagName)).map((e=>{0===e.value.length&&(e.style.backgroundColor="#d73333",setTimeout((()=>{e.style.backgroundColor="#ffffff"}),1500))})),7===(e=>Array(...e.form).filter((e=>"INPUT"===e.tagName||"TEXTAREA"===e.tagName)).filter((e=>"rgb(255, 255, 255)"===e.style.backgroundColor||""===e.style.backgroundColor)).length)(a.target))){const r={firstName:a.target.form[0].value,lastName:a.target.form[1].value,email:a.target.form[2].value,phone:a.target.form[3].value,address:a.target.form[4].value,services:a.target.form[5].value,message:a.target.form[6].value};localStorage.setItem("queryFeedback",r),l(t,"beforeend",'\n    <div class = "feedback__information feedback__submitted">\n        <h2 class="feedback__headline">Thank you!</h2>\n        <p class="feedback__text text-m">\n            Your message has been submitted\n        </p>\n    </div>\n    ',e),(async e=>{const a=await fetch("/feedback",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(e)});await a.json()})(r)}var r})),document.addEventListener("DOMContentLoaded",(()=>{localStorage.getItem("queryFeedback")&&l(t,"beforeend",'\n    <div class = "feedback__information feedback__submitted">\n        <h2 class="feedback__headline">Thank you!</h2>\n        <p class="feedback__text text-m">\n            Your message has been submitted\n        </p>\n    </div>\n    ',e)}))})();